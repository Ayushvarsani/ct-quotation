(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2116],{40963:(e,s,r)=>{"use strict";r.d(s,{n:()=>d,d:()=>c});var a=r(95155),t=r(12115),i=r(35726),o=r(9665);let n=e=>{let{open:s,message:r,severity:t="info",duration:n=2e3,onClose:l}=e;return(0,a.jsx)(i.A,{open:s,autoHideDuration:n,onClose:l,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,a.jsx)(o.A,{onClose:l,severity:t,variant:"filled",children:r})})},l=(0,t.createContext)(void 0),d=e=>{let{children:s}=e,[r,i]=(0,t.useState)({open:!1,message:"",severity:"info",duration:2e3,onClose:void 0});return(0,a.jsxs)(l.Provider,{value:{showSnackbar:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;i({open:!0,message:e,severity:s,duration:r,onClose:a})}},children:[s,(0,a.jsx)(n,{open:r.open,message:r.message,severity:r.severity,duration:r.duration,onClose:()=>{i(e=>({...e,open:!1})),r.onClose&&r.onClose()}})]})},c=()=>{let e=(0,t.useContext)(l);if(!e)throw Error("useSnackbar must be used within a SnackbarProvider");return e}},46683:(e,s,r)=>{Promise.resolve().then(r.bind(r,75430))},75430:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var a=r(95155),t=r(62177),i=r(62461),o=r(37129),n=r(76408),l=r(35695),d=r(40963),c=r(23464);let m=o.Ik({email:o.Yj().email("Please enter a valid email").required("Email is required"),password:o.Yj().min(6,"Password must be at least 6 characters").required("Password is required")}).required();function u(){let e=(0,l.useRouter)(),{showSnackbar:s}=(0,d.d)(),{register:r,handleSubmit:o,formState:{errors:u}}=(0,t.mN)({resolver:(0,i.t)(m)}),p=async r=>{let a={email:r.email,password:r.password};try{let r=await c.A.post("/api/admin-login",a,{headers:{"Content-Type":"application/json"}});console.log("Login response:",r),r.data&&r.data.status?(localStorage.setItem("admin_jwt_token",r.data.data.jwt_token),localStorage.setItem("admin_info",JSON.stringify(r.data.data)),s(r.data.msg,"success"),e.push("/admin/companies")):s(r.data.msg,"error")}catch(e){console.error("Login error:",e),s(e.response.data.msg,"error")}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 ",children:(0,a.jsx)(n.P.div,{className:"max-w-md w-full mx-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(n.P.h2,{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Please sign in to your account"})]}),(0,a.jsxs)("form",{className:"space-y-6",onSubmit:o(p),children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),(0,a.jsx)("input",{...r("email"),id:"email",type:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition duration-200",placeholder:"Enter your email"}),u.email&&(0,a.jsx)(n.P.p,{className:"mt-1 text-sm text-red-600",children:u.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,a.jsx)("input",{...r("password"),id:"password",type:"password",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition duration-200",placeholder:"Enter your password"}),u.password&&(0,a.jsx)(n.P.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:u.password.message})]})]}),(0,a.jsx)("div",{className:"flex items-end justify-end",children:(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsx)("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})}),(0,a.jsx)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200",children:"Sign in"})]})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[6408,7515,8789,3464,5726,9191,2461,8441,1684,7358],()=>s(46683)),_N_E=e.O()}]);