(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{4911:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var s=n(95155),r=n(12115),i=n(35695),a=n(11701),l=n(73578),o=n(54570),c=n(76408),d=n(60760),u=n(6874),m=n.n(u);let h=[{name:"Company List",href:"/admin/companies"}];function x(e){let{username:t}=e,n=(0,i.useRouter)(),u=(0,i.usePathname)(),[x,f]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),v=(0,r.useRef)(null),j=(0,r.useRef)(null),y={name:t.split("@")[0].replace(/[0-9]/g,"").replace(/[._]/g," ").replace(/\b\w/g,e=>e.toUpperCase()),email:t,role:"Admin",lastLogin:new Date().toLocaleDateString()};(0,r.useEffect)(()=>{let e=e=>{v.current&&!v.current.contains(e.target)&&f(!1),j.current&&j.current.contains(e.target)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let b=e=>e.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.P.header,{initial:{y:-100},animate:{y:0},className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-40",children:(0,s.jsx)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsx)(c.P.div,{className:"flex-shrink-0",whileHover:{scale:1.02},children:(0,s.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[(0,s.jsx)("span",{className:"text-indigo-600",children:"Quotation"}),(0,s.jsx)("span",{className:"text-gray-600",children:"Pro"})]})}),(0,s.jsx)("nav",{className:"hidden md:flex space-x-1",children:h.map(e=>{let t=u===e.href;return(0,s.jsxs)(m(),{href:e.href,className:"group relative flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ".concat(t?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,s.jsx)(c.P.span,{whileHover:{x:2},className:"flex-1",children:e.name}),t&&(0,s.jsx)(c.P.div,{layoutId:"activeIndicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600 rounded-full"})]},e.name)})}),(0,s.jsx)("div",{className:"flex items-center space-x-3",children:(0,s.jsxs)("div",{className:"relative",ref:v,children:[(0,s.jsxs)(c.P.button,{whileHover:{scale:1.02},onClick:()=>f(!x),className:"flex items-center space-x-3 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:b(y.name)}),(0,s.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:y.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:y.role})]})]}),(0,s.jsx)(a.A,{className:"h-4 w-4 transition-transform duration-200 ".concat(x?"rotate-180":"")})]}),(0,s.jsx)(d.N,{children:x&&(0,s.jsxs)(c.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-lg font-semibold",children:b(y.name)}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:y.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:y.email}),(0,s.jsxs)("div",{className:"flex items-center mt-1",children:[(0,s.jsx)(l.A,{className:"h-3 w-3 text-green-500 mr-1"}),(0,s.jsx)("span",{className:"text-xs text-green-600 font-medium",children:y.role})]})]})]})}),(0,s.jsx)("div",{className:"py-2",children:(0,s.jsxs)("button",{onClick:()=>{g(!0),f(!1)},className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-150",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-3"}),"Sign Out"]})})]})})]})})]})})}),(0,s.jsx)(d.N,{children:p&&(0,s.jsx)(c.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>g(!1),children:(0,s.jsxs)(c.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:(0,s.jsx)(o.A,{className:"h-6 w-6 text-red-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Confirm Logout"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center mb-6",children:"Are you sure you want to sign out? You will need to sign in again to access your account."}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("admin_jwt_token"),localStorage.removeItem("admin_info"),n.push("/admin/login")},className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors duration-200",children:"Sign Out"})]})]})})})]})}var f=n(40963);function p(e){let{children:t}=e,n=(0,i.useRouter)(),a=(0,i.usePathname)(),[l,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("admin_info"),t=localStorage.getItem("admin_jwt_token");if(!e||!t){"/admin/login"!==a&&n.push("/admin/login"),o(null);return}try{let t=JSON.parse(e);o(t.admin_email||"Admin")}catch(e){console.error("Error parsing admin data:",e),"/admin/login"!==a&&n.push("/admin/login"),o(null)}},[n,a]);let c=a.startsWith("/admin/login");return c||null!==l?(0,s.jsx)(f.n,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[!c&&l&&(0,s.jsx)(x,{username:l}),(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("main",{className:"flex-1 p-6",children:t})})]})}):null}},11701:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var s=n(57515),r=n(95155);let i=(0,s.A)((0,r.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreOutlined")},35695:(e,t,n)=>{"use strict";var s=n(18999);n.o(s,"useParams")&&n.d(t,{useParams:function(){return s.useParams}}),n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}})},40963:(e,t,n)=>{"use strict";n.d(t,{n:()=>c,d:()=>d});var s=n(95155),r=n(12115),i=n(35726),a=n(9665);let l=e=>{let{open:t,message:n,severity:r="info",duration:l=2e3,onClose:o}=e;return(0,s.jsx)(i.A,{open:t,autoHideDuration:l,onClose:o,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,s.jsx)(a.A,{onClose:o,severity:r,variant:"filled",children:n})})},o=(0,r.createContext)(void 0),c=e=>{let{children:t}=e,[n,i]=(0,r.useState)({open:!1,message:"",severity:"info",duration:2e3,onClose:void 0});return(0,s.jsxs)(o.Provider,{value:{showSnackbar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;i({open:!0,message:e,severity:t,duration:n,onClose:s})}},children:[t,(0,s.jsx)(l,{open:n.open,message:n.message,severity:n.severity,duration:n.duration,onClose:()=>{i(e=>({...e,open:!1})),n.onClose&&n.onClose()}})]})},d=()=>{let e=(0,r.useContext)(o);if(!e)throw Error("useSnackbar must be used within a SnackbarProvider");return e}},54570:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var s=n(57515),r=n(95155);let i=(0,s.A)((0,r.jsx)("path",{d:"m17 8-1.41 1.41L17.17 11H9v2h8.17l-1.58 1.58L17 16l4-4zM5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5z"}),"LogoutOutlined")},60760:(e,t,n)=>{"use strict";n.d(t,{N:()=>v});var s=n(95155),r=n(12115),i=n(90869),a=n(82885),l=n(97494),o=n(80845),c=n(27351),d=n(51508);class u extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=(0,c.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=n-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m(e){let{children:t,isPresent:n,anchorX:i}=e,a=(0,r.useId)(),l=(0,r.useRef)(null),o=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,r.useContext)(d.Q);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:r,right:d}=o.current;if(n||!l.current||!e||!t)return;l.current.dataset.motionPopId=a;let u=document.createElement("style");return c&&(u.nonce=c),document.head.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===i?"left: ".concat(r):"right: ".concat(d),"px !important;\n            top: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.contains(u)&&document.head.removeChild(u)}},[n]),(0,s.jsx)(u,{isPresent:n,childRef:l,sizeRef:o,children:r.cloneElement(t,{ref:l})})}let h=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:l,custom:c,presenceAffectsLayout:d,mode:u,anchorX:h}=e,f=(0,a.M)(x),p=(0,r.useId)(),g=!0,v=(0,r.useMemo)(()=>(g=!1,{id:p,initial:n,isPresent:i,custom:c,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;l&&l()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[i,f,l]);return d&&g&&(v={...v}),(0,r.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[i]),r.useEffect(()=>{i||f.size||!l||l()},[i]),"popLayout"===u&&(t=(0,s.jsx)(m,{isPresent:i,anchorX:h,children:t})),(0,s.jsx)(o.t.Provider,{value:v,children:t})};function x(){return new Map}var f=n(32082);let p=e=>e.key||"";function g(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let v=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:m=!1,anchorX:x="left"}=e,[v,j]=(0,f.xQ)(m),y=(0,r.useMemo)(()=>g(t),[t]),b=m&&!v?[]:y.map(p),N=(0,r.useRef)(!0),w=(0,r.useRef)(y),C=(0,a.M)(()=>new Map),[P,k]=(0,r.useState)(y),[E,S]=(0,r.useState)(y);(0,l.E)(()=>{N.current=!1,w.current=y;for(let e=0;e<E.length;e++){let t=p(E[e]);b.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[E,b.length,b.join("-")]);let A=[];if(y!==P){let e=[...y];for(let t=0;t<E.length;t++){let n=E[t],s=p(n);b.includes(s)||(e.splice(t,0,n),A.push(n))}return"wait"===u&&A.length&&(e=A),S(g(e)),k(y),null}let{forceRender:R}=(0,r.useContext)(i.L);return(0,s.jsx)(s.Fragment,{children:E.map(e=>{let t=p(e),r=(!m||!!v)&&(y===E||b.includes(t));return(0,s.jsx)(h,{isPresent:r,initial:(!N.current||!!o)&&void 0,custom:n,presenceAffectsLayout:d,mode:u,onExitComplete:r?void 0:()=>{if(!C.has(t))return;C.set(t,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),S(w.current),m&&(null==j||j()),c&&c())},anchorX:x,children:e},t)})})}},73578:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var s=n(57515),r=n(95155);let i=(0,s.A)((0,r.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"SecurityOutlined")},80119:(e,t,n)=>{Promise.resolve().then(n.bind(n,4911))}},e=>{var t=t=>e(e.s=t);e.O(0,[6408,7515,8789,5726,6874,8441,1684,7358],()=>t(80119)),_N_E=e.O()}]);