(()=>{var e={};e.id=2195,e.ids=[2195],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8075:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{patchFetch:()=>u,routeModule:()=>c,serverHooks:()=>l,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>m});var a=r(96559),n=r(48088),i=r(37719),o=r(64919),d=e([o]);o=(d.then?(await d)():d)[0];let c=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/admin-register/route",pathname:"/api/admin-register",filename:"route",bundlePath:"app/api/admin-register/route"},resolvedPagePath:"D:\\ct-quotation\\src\\app\\api\\admin-register\\route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:p,workUnitAsyncStorage:m,serverHooks:l}=c;function u(){return(0,i.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:m})}s()}catch(e){s(e)}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},62484:(e,t,r)=>{"use strict";r.d(t,{E:()=>a,b:()=>n});var s=r(85663);let a=async e=>{let t=await s.Ay.genSalt(10);return s.Ay.hash(e,t)},n=(e,t)=>s.Ay.compare(e,t)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64919:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{POST:()=>d});var a=r(32190),n=r(74746),i=r(62484),o=e([n]);async function d(e){try{let t=await e.json(),r=await (0,i.E)("Admin@1234"),s=await (0,n.h)({...t,admin_password:r});return a.NextResponse.json({status:s.status,msg:s.msg,data:s.data},{status:s.status?200:400})}catch(e){if(console.error("Registration error:",e),e instanceof Error&&e.code){if("23505"===e.code)return a.NextResponse.json({status:!1,msg:"Email or mobile already linked with another admin"},{status:400});return a.NextResponse.json({status:!1,msg:"Internal Server Error",error:e},{status:500})}}}n=(o.then?(await o)():o)[0],s()}catch(e){s(e)}})},64939:e=>{"use strict";e.exports=import("pg")},74746:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{h:()=>i});var a=r(96364),n=e([a]);a=(n.then?(await n)():n)[0];let i=async e=>{let t=`insert into admin(admin_name,admin_email,admin_password,admin_country_code,admin_mobile) 
  values($1,$2,$3,$4,$5) returning admin_uuid`,r=[e.admin_name,e.admin_email,e.admin_password,e.admin_country_code,e.admin_mobile],s=await a.d.query(t,r);return 0===s.rowCount?{msg:"Admin Not Added",code:200,status:!1}:{msg:"Admin Added",code:200,status:!0,data:s.rows[0]}};s()}catch(e){s(e)}})},78335:()=>{},96364:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{d:()=>i});var a=r(64939),n=e([a]);let i=new(a=(n.then?(await n)():n)[0]).Pool({user:process.env.DB_USER,host:process.env.DB_HOST,database:process.env.DB_NAME,password:process.env.DB_PASSWORD,port:5432,ssl:{rejectUnauthorized:!1}});s()}catch(e){s(e)}})},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,580,5663],()=>r(8075));module.exports=s})();