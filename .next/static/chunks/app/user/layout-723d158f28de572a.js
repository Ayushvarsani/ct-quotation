(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5075],{332:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(95155),n=s(12115),a=s(35695),l=s(11701),i=s(73578),o=s(57515);let c=(0,o.A)((0,r.jsx)("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonOutlined");var d=s(54570);let u=(0,o.A)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseOutlined"),m=(0,o.A)((0,r.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"MenuOutlined");var x=s(76408),h=s(60760),g=s(6874),p=s.n(g);let f=[{name:"quotation_module",label:"Quotation",menus:[{name:"Products",href:"/user/products"},{name:"Quotation",href:"/user/quotation"},{name:"Users",href:"/user/users"}]}];function v(e){let{username:t}=e,s=(0,a.useRouter)(),o=(0,a.usePathname)(),[g,v]=(0,n.useState)(!1),[j,b]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),w=(0,n.useRef)(null),C=(0,n.useRef)(null),[P,k]=(0,n.useState)([]),[S,E]=(0,n.useState)(null),[A,z]=(0,n.useState)(0),M={name:t.split("@")[0].replace(/[0-9]/g,"").replace(/[._]/g," ").replace(/\b\w/g,e=>e.toUpperCase()),email:t,role:"User",lastLogin:new Date().toLocaleDateString()};(0,n.useEffect)(()=>{let e=e=>{w.current&&!w.current.contains(e.target)&&v(!1),C.current&&!C.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,n.useEffect)(()=>{z(JSON.parse(localStorage.getItem("user")||"{}").role);let e=localStorage.getItem("modules");e&&k(JSON.parse(e))},[]);let R=1===A?f.filter(e=>P.includes(e.name)):[],O=1===R.length,H=O?R[0].menus:[],L=()=>{N(!0),v(!1),b(!1)},I=e=>e.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2),_=e=>{s.push(e),b(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.P.header,{initial:{y:-100},animate:{y:0},className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-40",children:(0,r.jsx)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)(x.P.div,{className:"flex-shrink-0",whileHover:{scale:1.02},children:(0,r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[(0,r.jsx)("span",{className:"text-indigo-600",children:"Quotation"}),(0,r.jsx)("span",{className:"text-gray-600",children:"Pro"})]})}),(0,r.jsx)("nav",{className:"hidden md:flex space-x-1",children:O&&H.length>0&&(0,r.jsxs)("div",{className:"relative group",onMouseEnter:()=>E(R[0].name),onMouseLeave:()=>E(null),children:[(0,r.jsxs)("button",{className:"flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ".concat(S===R[0].name?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),onClick:e=>{e.stopPropagation(),E(S===R[0].name?null:R[0].name)},type:"button",children:[R[0].label,(0,r.jsx)(l.A,{className:"h-4 w-4 ml-1 transition-transform duration-200 ".concat(S===R[0].name?"rotate-180":"")})]}),S===R[0].name&&(0,r.jsx)("div",{className:"absolute left-0 w-48 bg-white shadow-lg rounded-lg z-50",style:{minWidth:180},children:H.map(e=>(0,r.jsx)(p(),{href:e.href,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 ".concat(o===e.href?"font-semibold text-indigo-700":""),onClick:()=>{E(null)},children:e.name},e.name))})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"relative",ref:w,children:[(0,r.jsxs)(x.P.button,{whileHover:{scale:1.02},onClick:()=>v(!g),className:"flex items-center space-x-3 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:I(M.name)}),(0,r.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:M.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:M.role})]})]}),(0,r.jsx)(l.A,{className:"h-4 w-4 transition-transform duration-200 ".concat(g?"rotate-180":"")})]}),(0,r.jsx)(h.N,{children:g&&(0,r.jsxs)(x.P.div,{className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-lg font-semibold",children:I(M.name)}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:M.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:M.email}),(0,r.jsxs)("div",{className:"flex items-center mt-1",children:[(0,r.jsx)(i.A,{className:"h-3 w-3 text-green-500 mr-1"}),(0,r.jsx)("span",{className:"text-xs text-green-600 font-medium",children:M.role})]})]})]})}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)("button",{onClick:()=>{s.push("/user/profile"),v(!1)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",children:[(0,r.jsx)(c,{className:"h-4 w-4 mr-3 text-gray-400"}),"My Profile"]}),(0,r.jsxs)("button",{onClick:L,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-150",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-3"}),"Sign Out"]})]})]})})]}),(0,r.jsx)(x.P.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>b(!j),className:"md:hidden p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:j?(0,r.jsx)(u,{className:"h-5 w-5"}):(0,r.jsx)(m,{className:"h-5 w-5"})})]})]})})}),(0,r.jsx)(h.N,{children:j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0  z-40 md:hidden",onClick:()=>b(!1)}),(0,r.jsxs)(x.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},ref:C,className:"fixed top-0 right-0 h-full w-80 bg-white shadow-2xl z-50 md:hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:I(M.name)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:M.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:M.email}),(0,r.jsx)("p",{className:"text-xs text-green-500",children:M.role})]})]}),(0,r.jsx)(x.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>b(!1),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:(0,r.jsx)(u,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"p-4 space-y-2",children:[(0,r.jsx)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4",children:"Navigation"}),O&&H.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{className:"w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 text-gray-600 hover:bg-gray-50 hover:text-gray-900",onClick:e=>{e.stopPropagation(),E(S===R[0].name?null:R[0].name)},children:[(0,r.jsx)("span",{children:R[0].label}),(0,r.jsx)(l.A,{className:"h-4 w-4 ml-1 transition-transform duration-200 ".concat(S===R[0].name?"rotate-180":"")})]}),S===R[0].name&&(0,r.jsx)("div",{className:"pl-4 mt-2 space-y-1",children:H.map(e=>(0,r.jsx)("button",{onClick:()=>_(e.href),className:"w-full text-left px-4 py-2 text-sm rounded-lg transition-all duration-200 ".concat(o===e.href?"bg-indigo-50 text-indigo-700 border-l-4 border-indigo-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:e.name},e.name))})]})]}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:(0,r.jsxs)(x.P.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:L,className:"w-full text-left px-4 py-3 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 flex items-center",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-3"}),"Sign Out"]})})]})]})}),(0,r.jsx)(h.N,{children:y&&(0,r.jsx)(x.P.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>N(!1),children:(0,r.jsxs)(x.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:(0,r.jsx)(d.A,{className:"h-6 w-6 text-red-600"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Confirm Logout"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 text-center mb-6",children:"Are you sure you want to sign out? You Will need to sign in again to access your account."}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("user"),localStorage.removeItem("modules"),localStorage.removeItem("token"),localStorage.removeItem("quotation_product_fields"),localStorage.removeItem("quotation_grade_fields"),s.push("/")},className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors duration-200",children:"Sign Out"})]})]})})})]})}var j=s(40963);function b(e){let{children:t}=e,s=(0,a.useRouter)(),[l,i]=(0,n.useState)("");return((0,n.useEffect)(()=>{let e=localStorage.getItem("user");if(!e)return void s.push("/");try{let t=JSON.parse(e);i(t.email||"User")}catch(e){console.error("Error parsing user data:",e),s.push("/")}},[s]),l)?(0,r.jsx)(j.n,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsx)(v,{username:l}),(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)("main",{className:"flex-1 p-6",children:t})})]})}):null}},11701:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(57515),n=s(95155);let a=(0,r.A)((0,n.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreOutlined")},35695:(e,t,s)=>{"use strict";var r=s(18999);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},40963:(e,t,s)=>{"use strict";s.d(t,{n:()=>c,d:()=>d});var r=s(95155),n=s(12115),a=s(35726),l=s(9665);let i=e=>{let{open:t,message:s,severity:n="info",duration:i=2e3,onClose:o}=e;return(0,r.jsx)(a.A,{open:t,autoHideDuration:i,onClose:o,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,r.jsx)(l.A,{onClose:o,severity:n,variant:"filled",children:s})})},o=(0,n.createContext)(void 0),c=e=>{let{children:t}=e,[s,a]=(0,n.useState)({open:!1,message:"",severity:"info",duration:2e3,onClose:void 0});return(0,r.jsxs)(o.Provider,{value:{showSnackbar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;a({open:!0,message:e,severity:t,duration:s,onClose:r})}},children:[t,(0,r.jsx)(i,{open:s.open,message:s.message,severity:s.severity,duration:s.duration,onClose:()=>{a(e=>({...e,open:!1})),s.onClose&&s.onClose()}})]})},d=()=>{let e=(0,n.useContext)(o);if(!e)throw Error("useSnackbar must be used within a SnackbarProvider");return e}},54570:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(57515),n=s(95155);let a=(0,r.A)((0,n.jsx)("path",{d:"m17 8-1.41 1.41L17.17 11H9v2h8.17l-1.58 1.58L17 16l4-4zM5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5z"}),"LogoutOutlined")},60760:(e,t,s)=>{"use strict";s.d(t,{N:()=>v});var r=s(95155),n=s(12115),a=s(90869),l=s(82885),i=s(97494),o=s(80845),c=s(27351),d=s(51508);class u extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,c.s)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m(e){let{children:t,isPresent:s,anchorX:a}=e,l=(0,n.useId)(),i=(0,n.useRef)(null),o=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,n.useContext)(d.Q);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:n,right:d}=o.current;if(s||!i.current||!e||!t)return;i.current.dataset.motionPopId=l;let u=document.createElement("style");return c&&(u.nonce=c),document.head.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===a?"left: ".concat(n):"right: ".concat(d),"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{document.head.contains(u)&&document.head.removeChild(u)}},[s]),(0,r.jsx)(u,{isPresent:s,childRef:i,sizeRef:o,children:n.cloneElement(t,{ref:i})})}let x=e=>{let{children:t,initial:s,isPresent:a,onExitComplete:i,custom:c,presenceAffectsLayout:d,mode:u,anchorX:x}=e,g=(0,l.M)(h),p=(0,n.useId)(),f=!0,v=(0,n.useMemo)(()=>(f=!1,{id:p,initial:s,isPresent:a,custom:c,onExitComplete:e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;i&&i()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[a,g,i]);return d&&f&&(v={...v}),(0,n.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[a]),n.useEffect(()=>{a||g.size||!i||i()},[a]),"popLayout"===u&&(t=(0,r.jsx)(m,{isPresent:a,anchorX:x,children:t})),(0,r.jsx)(o.t.Provider,{value:v,children:t})};function h(){return new Map}var g=s(32082);let p=e=>e.key||"";function f(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let v=e=>{let{children:t,custom:s,initial:o=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:m=!1,anchorX:h="left"}=e,[v,j]=(0,g.xQ)(m),b=(0,n.useMemo)(()=>f(t),[t]),y=m&&!v?[]:b.map(p),N=(0,n.useRef)(!0),w=(0,n.useRef)(b),C=(0,l.M)(()=>new Map),[P,k]=(0,n.useState)(b),[S,E]=(0,n.useState)(b);(0,i.E)(()=>{N.current=!1,w.current=b;for(let e=0;e<S.length;e++){let t=p(S[e]);y.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[S,y.length,y.join("-")]);let A=[];if(b!==P){let e=[...b];for(let t=0;t<S.length;t++){let s=S[t],r=p(s);y.includes(r)||(e.splice(t,0,s),A.push(s))}return"wait"===u&&A.length&&(e=A),E(f(e)),k(b),null}let{forceRender:z}=(0,n.useContext)(a.L);return(0,r.jsx)(r.Fragment,{children:S.map(e=>{let t=p(e),n=(!m||!!v)&&(b===S||y.includes(t));return(0,r.jsx)(x,{isPresent:n,initial:(!N.current||!!o)&&void 0,custom:s,presenceAffectsLayout:d,mode:u,onExitComplete:n?void 0:()=>{if(!C.has(t))return;C.set(t,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(null==z||z(),E(w.current),m&&(null==j||j()),c&&c())},anchorX:h,children:e},t)})})}},60995:(e,t,s)=>{Promise.resolve().then(s.bind(s,332))},73578:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(57515),n=s(95155);let a=(0,r.A)((0,n.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"SecurityOutlined")}},e=>{var t=t=>e(e.s=t);e.O(0,[6408,7515,8789,5726,6874,8441,1684,7358],()=>t(60995)),_N_E=e.O()}]);